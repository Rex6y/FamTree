<Page x:Class="WpfApp1.Profile"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:WpfApp1"
      mc:Ignorable="d" 
      Title="Thông tin cá nhân">

    <Grid Background="#f5f5f5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="White" BorderBrush="#ddd" BorderThickness="0,0,0,1" Padding="5">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="BackButton"
                        Width="96"
                        Height="40"
                        Click="BackButton_Click"
                        Cursor="Hand"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Margin="10,10,0,10">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <Border Name="borderx"
                                        CornerRadius="20"
                                        Background="#4fb04f"
                                        BorderBrush="#FFFFFFFF"
                                        BorderThickness="2">
                                    <Grid>
                                        <TextBlock Text="&#x276E;"
                                                   FontSize="30"
                                                   FontWeight="Bold"
                                                   Foreground="White"
                                                   Margin="10,-2,0,0"/>
                                        <TextBlock Text="Back"
                                                   Foreground="White"
                                                   FontSize="16"
                                                   FontWeight="SemiBold"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   Margin="30,0,20,0"/>
                                    </Grid>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="borderx" Property="Background" Value="Black"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <TextBlock x:Name="PageTitle" FontSize="24" FontWeight="Bold" VerticalAlignment="Center" Margin="20,0,0,0"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="30" MaxWidth="800">
                <Border Background="White" CornerRadius="10" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Ảnh thành viên" FontSize="16" FontWeight="SemiBold" Margin="5,0,0,10"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border x:Name="ProfilePicBorder" Grid.Column="0" Width="120" Height="120" CornerRadius="60"
                                    Background="#2196F3" Margin="0,0,20,0">
                                <TextBlock x:Name="ProfileInitial" Text="?" FontSize="48" FontWeight="Bold" 
                                           Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <Button x:Name="ChangePictureButton" 
                                        Content="Thay ảnh"  
                                        Click="ChangePicture_Click"
                                        Cursor="Hand" 
                                        Height="40" 
                                        FontSize="16"
                                        Width="600" 
                                        Margin="0,0,0,10"
                                        Background="#4CAF50"
                                        Foreground="White"
                                        FontWeight="SemiBold"
                                        BorderThickness="0">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border CornerRadius="15" 
                                                    Background="{TemplateBinding Background}" 
                                                    Padding="15,8">
                                                <ContentPresenter HorizontalAlignment="Center" 
                                                                    VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Button x:Name="RemovePictureButton" 
                                        Content="Xóa ảnh"  
                                        Click="RemovePicture_Click"
                                        Cursor="Hand" 
                                        Height="40" 
                                        Width="600" 
                                        FontSize="16"
                                        Margin="0,0,0,10"
                                        Background="Red"
                                        Foreground="White"
                                        FontWeight="SemiBold"
                                        BorderThickness="0">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border CornerRadius="15" 
                                                    Background="{TemplateBinding Background}" 
                                                    Padding="15,8">
                                                <ContentPresenter HorizontalAlignment="Center" 
                                                                  VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="10" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Thông tin cơ bản" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>

                        <TextBlock Text="Họ và tên:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="NameText" Text="" FontSize="16" Margin="0,0,0,15"/>

                        <TextBlock Text="Giới tính:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="GenderText" Text="" FontSize="16" Margin="0,0,0,15"/>

                        <TextBlock Text="Ngày sinh:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="BirthDateText" Text="" FontSize="16" Margin="0,0,0,15"/>

                        <TextBlock Text="Thế hệ:" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock x:Name="GenerationText" Text="" FontSize="16"/>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="10" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Quan hệ trong gia đình" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Bố:" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <TextBlock x:Name="DadText" Grid.Column="1" Text="Chưa đặt" FontSize="16" VerticalAlignment="Center"/>
                            <Button x:Name="SetDadButton" Grid.Column="2" FontSize="16" Content="Thêm bố" Padding="10,5" Height="40" FontWeight="SemiBold"
                                    Click="SetDad_Click" Background="#2196F3" Foreground="White" BorderThickness="0" Cursor="Hand">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border CornerRadius="15" 
                                                Background="{TemplateBinding Background}" 
                                                Padding="15,8">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                    VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                            <Button x:Name="DeleteDad" Grid.Column="2" Content="Xóa" FontSize="12" Padding="10,5" Height="40" Width="50" FontWeight="SemiBold"
                                    Click="DeleteParents_Click" Background="#F44336" Foreground="White" BorderThickness="0" Cursor="Hand" Visibility="Collapsed">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border CornerRadius="40" 
                                                Background="{TemplateBinding Background}" 
                                                Padding="15,8">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                    VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Grid>

                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Mẹ:" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <TextBlock x:Name="MomText" Grid.Column="1" Text="Chưa đặt" FontSize="16" VerticalAlignment="Center"/>
                            <Button x:Name="SetMomButton" Grid.Column="2" Content="Thêm mẹ" Padding="10,5" Height="40" FontWeight="SemiBold"
                                    Click="SetMom_Click" Background="#2196F3"  FontSize="16" Foreground="White" BorderThickness="0" Cursor="Hand">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border CornerRadius="15" 
                                                Background="{TemplateBinding Background}" 
                                                Padding="15,8">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                            <Button x:Name="DeleteMom" Grid.Column="2" Content="Xóa" FontSize="12" Padding="10,5" Height="40" Width="50" FontWeight="SemiBold"
                                    Click="DeleteParents_Click" Background="#F44336" Foreground="White" BorderThickness="0" Cursor="Hand" Visibility="Collapsed">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border CornerRadius="40" 
                                                Background="{TemplateBinding Background}" 
                                                Padding="15,8">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                              VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Grid>

                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Vợ/chồng:" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <TextBlock x:Name="SpouseText" Grid.Column="1" Text="Chưa đặt" FontSize="16" VerticalAlignment="Center"/>
                            <Button x:Name="SetSpouseButton" Grid.Column="2" Content="Thêm vợ/chồng" FontSize="16" Padding="10,5" Height="40" FontWeight="SemiBold"
                                    Click="SetSpouse_Click" Background="#2196F3" Foreground="White" BorderThickness="0" Cursor="Hand">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border CornerRadius="15" 
                                                Background="{TemplateBinding Background}" 
                                                Padding="15,8"> 
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                                VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>

                        </Grid>

                        <TextBlock Text="Con:" FontSize="16" FontWeight="SemiBold" Margin="0,10,0,5"/>
                        <ListBox x:Name="ChildrenListBox" MinHeight="50" MaxHeight="150" Margin="0,0,0,10"/>
                        <Button x:Name="AddChildButton" Content="+ Thêm con" Padding="10,5" FontSize="16" FontWeight="SemiBold"
                                Click="AddChild_Click" Background="#4CAF50" Foreground="White" 
                                BorderThickness="0" Cursor="Hand" HorizontalAlignment="Left">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border CornerRadius="15" 
                                            Background="{TemplateBinding Background}" 
                                            Padding="15,8">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="10" Padding="20">
                    <StackPanel>
                        <TextBlock Text="Thao tác khác" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>
                        <Button x:Name="ViewTreeButton" Content="Xem cây gia phả" Padding="15,8" FontSize="16" FontWeight="SemiBold"
                                Click="ViewTree_Click" Background="#673AB7" Foreground="White" 
                                BorderThickness="0" Cursor="Hand" Margin="0,0,0,10">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border CornerRadius="15" 
                                            Background="{TemplateBinding Background}" 
                                            Padding="15,8">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                         VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                        <Button x:Name="DeletePersonButton" Content="Xóa thành viên" Padding="15,8" FontSize="16" FontWeight="SemiBold"
                                Click="DeletePerson_Click" Background="#F44336" Foreground="White" 
                                BorderThickness="0" Cursor="Hand">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border CornerRadius="15" 
                                            Background="{TemplateBinding Background}" 
                                            Padding="15,8">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                          VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
